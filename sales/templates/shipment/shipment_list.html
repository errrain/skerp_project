{# sales/templates/shipment/shipment_list.html #}
{% extends "base.html" %}

{% block content %}
<div class="container-fluid mt-3">
  <h4>ì¶œí•˜ ëª©ë¡</h4>

  <!-- ğŸ” ê²€ìƒ‰/í•„í„° ì˜ì—­ -->
  <form method="get" class="card mb-3">
    <div class="card-header py-2">
      ê²€ìƒ‰ ì¡°ê±´
    </div>
    <div class="card-body py-2">
      <div class="row g-2 mb-2">
        <div class="col-3">
          <label class="form-label form-label-sm">ì¶œí•˜ LOT</label>
          <input type="text" name="sh_lot"
                 value="{{ sh_lot }}"
                 class="form-control form-control-sm">
        </div>
        <div class="col-4">
          <label class="form-label form-label-sm">ì¶œí•˜ì¼</label>
          <div class="input-group input-group-sm">
            <input type="date" name="ship_date_from"
                   value="{{ ship_date_from }}"
                   class="form-control form-control-sm">
            <span class="input-group-text">~</span>
            <input type="date" name="ship_date_to"
                   value="{{ ship_date_to }}"
                   class="form-control form-control-sm">
          </div>
        </div>
        <div class="col-5">
          <label class="form-label form-label-sm">ê³ ê°ì‚¬</label>
          <input type="text" name="customer"
                 value="{{ customer }}"
                 class="form-control form-control-sm">
        </div>
      </div>

      <div class="row g-2">
        <div class="col-3">
          <label class="form-label form-label-sm">í”„ë¡œê·¸ë¨</label>
          <input type="text" name="program"
                 value="{{ program }}"
                 class="form-control form-control-sm">
        </div>
        <div class="col-5">
          <label class="form-label form-label-sm">í’ˆëª…</label>
          <input type="text" name="product_name"
                 value="{{ product_name }}"
                 class="form-control form-control-sm">
        </div>
        <div class="col-4 d-flex align-items-end justify-content-end">
          <button type="submit" class="btn btn-secondary btn-sm me-2">
            ì¡°íšŒ
          </button>
          <a href="{% url 'sales:shipment_list' %}" class="btn btn-outline-secondary btn-sm">
            ì´ˆê¸°í™”
          </a>
        </div>
      </div>
    </div>
  </form>

  <!-- ğŸ“‹ ì¶œí•˜ í—¤ë” ë¦¬ìŠ¤íŠ¸ -->
    <div class="mt-2 text-end">
    <a href="{% url 'sales:shipment_create' %}" class="btn btn-primary btn-sm">
      ì¶œí•˜ ë“±ë¡
    </a>
  </div>
  <table class="table table-sm table-bordered table-hover">
    <thead class="table-light">
      <tr>
        <th style="width: 140px;">ì¶œí•˜ LOT</th>
        <th style="width: 120px;">ì¶œí•˜ì¼</th>
        <th style="width: 180px;">ê³ ê°ì‚¬</th>
        <th style="width: 120px;">í”„ë¡œê·¸ë¨</th>
        <th>í’ˆëª…</th>
        <th style="width: 90px;" class="text-end">ì´ ì¶œí•˜ ìˆ˜ëŸ‰</th>
        <th style="width: 90px;">ì¶œê³ ì</th>
        <th>ë¹„ê³ </th>
        <th style="width: 90px;">ê´€ë¦¬</th>
      </tr>
    </thead>
    <tbody>
      {% for s in shipments %}
      <tr>
        <td>{{ s.sh_lot }}</td>
        <td>{{ s.ship_date|date:"Y-m-d" }}</td>
        <td>{{ s.customer.name }}</td>
        <td>{{ s.program }}</td>
        <td>{{ s.product_name }}</td>
        <td class="text-end">{{ s.total_qty }}</td>
        <td>{{ s.operator }}</td>
        <td>{{ s.memo }}</td>
        <td class="text-center">
          <a href="{% url 'sales:shipment_detail' s.id %}"
             class="btn btn-outline-primary btn-sm">
            ê´€ë¦¬
          </a>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="9" class="text-center text-muted">
          ì¡°íšŒëœ ì¶œí•˜ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
