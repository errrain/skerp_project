{% extends 'base.html' %}
{% load humanize %}

{% block content %}
<h4>ğŸ“¦ ì‚¬ì¶œí’ˆ ëª©ë¡</h4>

<form method="get" class="row g-2 mb-3">
    <div class="col-md-3">
        <input type="text" name="name" value="{{ request.GET.name }}" class="form-control form-control-sm" placeholder="í’ˆëª…">
    </div>
    <div class="col-md-3">
        <input type="text" name="alias" value="{{ request.GET.alias }}" class="form-control form-control-sm" placeholder="ë³„ì¹­">
    </div>
    <div class="col-md-3">
        <select name="status" class="form-select form-select-sm">
            <option value="">- ìƒíƒœ ì„ íƒ -</option>
            <option value="ê°œë°œ" {% if request.GET.status == 'ê°œë°œ' %}selected{% endif %}>ê°œë°œ</option>
            <option value="ì–‘ì‚°" {% if request.GET.status == 'ì–‘ì‚°' %}selected{% endif %}>ì–‘ì‚°</option>
            <option value="ì„œë¹„ìŠ¤" {% if request.GET.status == 'ì„œë¹„ìŠ¤' %}selected{% endif %}>ì„œë¹„ìŠ¤</option>
            <option value="ë‹¨ì¢…" {% if request.GET.status == 'ë‹¨ì¢…' %}selected{% endif %}>ë‹¨ì¢…</option>
        </select>
    </div>
    <div class="col-md-3 d-grid">
        <button class="btn btn-sm btn-outline-primary">ê²€ìƒ‰</button>
    </div>
</form>

<div class="text-end mb-2">
    <a href="{% url 'injection:injection_add' %}" class="btn btn-sm btn-success">+ ì‹ ê·œ ë“±ë¡</a>
</div>

<table class="table table-bordered table-sm text-center align-middle small">
    <thead class="table-light">
        <tr>
            <th>ë²ˆí˜¸</th>
            <th>í’ˆëª…</th>
            <th>ë³„ì¹­</th>
            <th>ê·œê²©</th>
            <th>ìƒíƒœ</th>
            <th>Part No</th>
            <th>ì‚¬ì¶œì—…ì²´</th>
            <th>ë‹¨ê°€</th>
            <th>ìˆ˜ì •</th>
        </tr>
    </thead>
    <tbody>
        {% for obj in injection_list %}
        <tr>
            <td>{{ forloop.counter0|add:page_obj.start_index }}</td>
            <td class="text-start">{{ obj.name }}</td>
            <td class="text-start">{{ obj.alias }}</td>
            <td class="text-start">{{ obj.spec }}</td>
            <td>{{ obj.status }}</td>
            <td>{{ obj.part_no }}</td>
            <td>{{ obj.customer.name }}</td>
            <td>
                {% if obj.latest_price %}
                    {{ obj.latest_price|intcomma }}ì›
                {% else %}
                    -
                {% endif %}
            </td>
            <td>
                <a href="{% url 'injection:injection_edit' obj.pk %}" class="btn btn-sm btn-outline-primary">âœ</a>
            </td>
        </tr>
        {% empty %}
        <tr><td colspan="9">ğŸ“­ ë“±ë¡ëœ ì‚¬ì¶œí’ˆì´ ì—†ìŠµë‹ˆë‹¤.</td></tr>
        {% endfor %}
    </tbody>
</table>

{% include 'pagination.html' with page_obj=page_obj %}

{% endblock %}
