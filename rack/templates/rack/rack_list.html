{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3" style="font-size: 0.9rem;">
    <h4 class="mb-0">도금 RACK 마스터 현황</h4>
    <a href="{% url 'rack:rack_master_add' %}" class="btn btn-sm btn-success">+ 신규 RACK MASTER 등록</a>
</div>

<form method="get" class="row g-2 mb-3 align-items-center">
    <div class="col-auto">
        <input type="text" name="q" value="{{ q }}" class="form-control form-control-sm" placeholder="품명 또는 Rack ID 검색">
    </div>
    <div class="col-auto">
        <button type="submit" class="btn btn-sm btn-primary">검색</button>
    </div>
</form>

<table class="table table-striped table-bordered table-sm text-center align-middle" style="font-size: 12px; border: 1px solid #000000;">
    <thead class="table-light">
        <tr>
            <th class="fw-bold table-header">Rack Master ID</th>
            <th class="fw-bold table-header">품명</th>
            <th class="fw-bold table-header">품번</th>
            <th class="fw-bold table-header">제작처</th>
            <th class="fw-bold table-header">힌계사용수</th>
            <th style="background-color: #ff7f50;">총 RACK 수</th>
            <th style="background-color: #ff7f50;">사용</th>
            <th style="background-color: #ff7f50;">미사용</th>
            <th style="background-color: #ff7f50;">정비</th>
            <th style="background-color: #ff7f50;">폐기</th>
        </tr>
    </thead>
    <tbody style="background-color: #dcdcdc;">
        {% for rack in page_obj %}
        <tr>
            <td><a href="{% url 'rack:rack_master_detail' rack.rack_master_id %}">{{ rack.rack_master_id }}</a></td>
            <td class="text-start"><a href="{% url 'rack:rack_master_detail' rack.rack_master_id %}">{{ rack.product_nm }}</a></td>
            <td class="text-start">{{ rack.product_no }}</td>
            <td>{{ rack.make_comp }}</td>
            <td>{{ rack.max_count }}</td>
            <td>{{ rack.detail_total_count|default:'-' }}</td>
            <td>{{ rack.detail_use_count|default:'-' }}</td>
            <td>{{ rack.detail_notuse_count|default:'-' }}</td>
            <td>{{ rack.detail_repair_count|default:'-' }}</td>
            <td>{{ rack.detail_discard_count|default:'-' }}</td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="10" class="text-muted text-center">등록된 RACK이 없습니다.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% include 'pagination.html' %}
{% endblock %}
